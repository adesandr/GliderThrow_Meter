<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GliderThrow_Meter: C:/Users/Robin/esp/GliderThrow_Meter/Esp_mad_Server/main/esp_mad_task_http_server.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GliderThrow_Meter
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9cd71a3e20dd7c868de89cb8aebfecdd.html">Esp_mad_Server</a></li><li class="navelem"><a class="el" href="dir_78a97e8f98b8d61e931ba2a93510003e.html">main</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">esp_mad_task_http_server.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file include all the code to deal with a simple http server.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;esp_wifi.h&gt;</code><br />
<code>#include &lt;esp_event_loop.h&gt;</code><br />
<code>#include &lt;esp_log.h&gt;</code><br />
<code>#include &lt;esp_system.h&gt;</code><br />
<code>#include &lt;nvs_flash.h&gt;</code><br />
<code>#include &lt;sys/param.h&gt;</code><br />
<code>#include &lt;esp_http_server.h&gt;</code><br />
<code>#include &lt;freertos/FreeRTOS.h&gt;</code><br />
<code>#include &lt;freertos/task.h&gt;</code><br />
<code>#include &lt;freertos/event_groups.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;<a class="el" href="_esp__mad_8h_source.html">Esp_mad.h</a>&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8788b3254f36ef3994b2d8d74b359699"><td class="memItemLeft" align="right" valign="top"><a id="a8788b3254f36ef3994b2d8d74b359699"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AP_WIFI_SSID</b>&#160;&#160;&#160;&quot;ESP_MAD&quot;</td></tr>
<tr class="separator:a8788b3254f36ef3994b2d8d74b359699"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adbd28d93eb8c5eb8956b0713f8166c6a"><td class="memItemLeft" align="right" valign="top"><a id="adbd28d93eb8c5eb8956b0713f8166c6a"></a>
const uint8_t esp_html_start[]&#160;</td><td class="memItemRight" valign="bottom"><b>asm</b> (&quot;_binary_esp_html_start&quot;)</td></tr>
<tr class="separator:adbd28d93eb8c5eb8956b0713f8166c6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa254d0ae38e820dc351ec8fe162b754a"><td class="memItemLeft" align="right" valign="top"><a id="aa254d0ae38e820dc351ec8fe162b754a"></a>
const uint8_t esp_html_end[]&#160;</td><td class="memItemRight" valign="bottom"><b>asm</b> (&quot;_binary_esp_html_end&quot;)</td></tr>
<tr class="separator:aa254d0ae38e820dc351ec8fe162b754a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a661311931a3e044d085e520dd638269f"><td class="memItemLeft" align="right" valign="top"><a id="a661311931a3e044d085e520dd638269f"></a>
const uint8_t bootstrap_min_css_start[]&#160;</td><td class="memItemRight" valign="bottom"><b>asm</b> (&quot;_binary_bootstrap_min_css_start&quot;)</td></tr>
<tr class="separator:a661311931a3e044d085e520dd638269f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cf3fa001f7166bdcd85cfdac7244918"><td class="memItemLeft" align="right" valign="top"><a id="a7cf3fa001f7166bdcd85cfdac7244918"></a>
const uint8_t bootstrap_min_css_end[]&#160;</td><td class="memItemRight" valign="bottom"><b>asm</b> (&quot;_binary_bootstrap_min_css_end&quot;)</td></tr>
<tr class="separator:a7cf3fa001f7166bdcd85cfdac7244918"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a220ff2bf4e840af5a30e9b10397bf8e3"><td class="memItemLeft" align="right" valign="top"><a id="a220ff2bf4e840af5a30e9b10397bf8e3"></a>
const uint8_t bootstrap_min_js_start[]&#160;</td><td class="memItemRight" valign="bottom"><b>asm</b> (&quot;_binary_bootstrap_min_js_start&quot;)</td></tr>
<tr class="separator:a220ff2bf4e840af5a30e9b10397bf8e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4391d4ba52417e3a0d3f66601b2d934d"><td class="memItemLeft" align="right" valign="top"><a id="a4391d4ba52417e3a0d3f66601b2d934d"></a>
const uint8_t bootstrap_min_js_end[]&#160;</td><td class="memItemRight" valign="bottom"><b>asm</b> (&quot;_binary_bootstrap_min_js_end&quot;)</td></tr>
<tr class="separator:a4391d4ba52417e3a0d3f66601b2d934d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a795dd6206fc24f78f30ea1d832968d71"><td class="memItemLeft" align="right" valign="top"><a id="a795dd6206fc24f78f30ea1d832968d71"></a>
const uint8_t jquery_3_3_1_min_js_start[]&#160;</td><td class="memItemRight" valign="bottom"><b>asm</b> (&quot;_binary_jquery_3_3_1_min_js_start&quot;)</td></tr>
<tr class="separator:a795dd6206fc24f78f30ea1d832968d71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada294a581eb53b75ebd4b3332b9de2da"><td class="memItemLeft" align="right" valign="top"><a id="ada294a581eb53b75ebd4b3332b9de2da"></a>
const uint8_t jquery_3_3_1_min_js_end[]&#160;</td><td class="memItemRight" valign="bottom"><b>asm</b> (&quot;_binary_jquery_3_3_1_min_js_end&quot;)</td></tr>
<tr class="separator:ada294a581eb53b75ebd4b3332b9de2da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b53468c02118b45ea2de3814e68ef4e"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp__mad__task__http__server_8c.html#a3b53468c02118b45ea2de3814e68ef4e">main_page_get_handler</a> (httpd_req_t *req)</td></tr>
<tr class="memdesc:a3b53468c02118b45ea2de3814e68ef4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">An HTTP GET handler for the main esp.html page.  <a href="esp__mad__task__http__server_8c.html#a3b53468c02118b45ea2de3814e68ef4e">More...</a><br /></td></tr>
<tr class="separator:a3b53468c02118b45ea2de3814e68ef4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e57862c1f597a1a1ec61581a959875a"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp__mad__task__http__server_8c.html#a5e57862c1f597a1a1ec61581a959875a">bootstrap_min_css_handler</a> (httpd_req_t *req)</td></tr>
<tr class="memdesc:a5e57862c1f597a1a1ec61581a959875a"><td class="mdescLeft">&#160;</td><td class="mdescRight">An HTTP GET handler for bootstrap.min.css uri.  <a href="esp__mad__task__http__server_8c.html#a5e57862c1f597a1a1ec61581a959875a">More...</a><br /></td></tr>
<tr class="separator:a5e57862c1f597a1a1ec61581a959875a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f7831b412ac57a3fc6762ed4db1688a"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp__mad__task__http__server_8c.html#a6f7831b412ac57a3fc6762ed4db1688a">bootstrap_min_js_handler</a> (httpd_req_t *req)</td></tr>
<tr class="memdesc:a6f7831b412ac57a3fc6762ed4db1688a"><td class="mdescLeft">&#160;</td><td class="mdescRight">An HTTP GET handler for bootstrap.min.js uri.  <a href="esp__mad__task__http__server_8c.html#a6f7831b412ac57a3fc6762ed4db1688a">More...</a><br /></td></tr>
<tr class="separator:a6f7831b412ac57a3fc6762ed4db1688a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0912f449468991eb9aa1f3b9ab5573b"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp__mad__task__http__server_8c.html#ad0912f449468991eb9aa1f3b9ab5573b">jquery_3_3_1_min_js_handler</a> (httpd_req_t *req)</td></tr>
<tr class="memdesc:ad0912f449468991eb9aa1f3b9ab5573b"><td class="mdescLeft">&#160;</td><td class="mdescRight">An HTTP GET handler for jquery.3.3.1.min.js uri.  <a href="esp__mad__task__http__server_8c.html#ad0912f449468991eb9aa1f3b9ab5573b">More...</a><br /></td></tr>
<tr class="separator:ad0912f449468991eb9aa1f3b9ab5573b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad15491378c9c175fc2648b772c6bb788"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp__mad__task__http__server_8c.html#ad15491378c9c175fc2648b772c6bb788">sensors_get_handler</a> (httpd_req_t *req)</td></tr>
<tr class="memdesc:ad15491378c9c175fc2648b772c6bb788"><td class="mdescLeft">&#160;</td><td class="mdescRight">An HTTP GET handler to serve, travel, angle and delta of both sensors.  <a href="esp__mad__task__http__server_8c.html#ad15491378c9c175fc2648b772c6bb788">More...</a><br /></td></tr>
<tr class="separator:ad15491378c9c175fc2648b772c6bb788"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f215a2cec9961c453fc8b216a7624ca"><td class="memItemLeft" align="right" valign="top"><a id="a6f215a2cec9961c453fc8b216a7624ca"></a>
esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><b>sensor2_post_handler</b> (httpd_req_t *req)</td></tr>
<tr class="separator:a6f215a2cec9961c453fc8b216a7624ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4da23f4bcb1b1a78e141a7a7a4c8db23"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp__mad__task__http__server_8c.html#a4da23f4bcb1b1a78e141a7a7a4c8db23">chord_post_handler</a> (httpd_req_t *req)</td></tr>
<tr class="memdesc:a4da23f4bcb1b1a78e141a7a7a4c8db23"><td class="mdescLeft">&#160;</td><td class="mdescRight">An HTTP POST handler.  <a href="esp__mad__task__http__server_8c.html#a4da23f4bcb1b1a78e141a7a7a4c8db23">More...</a><br /></td></tr>
<tr class="separator:a4da23f4bcb1b1a78e141a7a7a4c8db23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa405dbf500a1f511f559e1e87efff9da"><td class="memItemLeft" align="right" valign="top">httpd_handle_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp__mad__task__http__server_8c.html#aa405dbf500a1f511f559e1e87efff9da">start_webserver</a> (void)</td></tr>
<tr class="memdesc:aa405dbf500a1f511f559e1e87efff9da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the http server and stet the uris handles.  <a href="esp__mad__task__http__server_8c.html#aa405dbf500a1f511f559e1e87efff9da">More...</a><br /></td></tr>
<tr class="separator:aa405dbf500a1f511f559e1e87efff9da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6f378959433adbb1cb20e4f68916f0c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="esp__mad__task__http__server_8c.html#ae6f378959433adbb1cb20e4f68916f0c">stop_webserver</a> (httpd_handle_t server)</td></tr>
<tr class="memdesc:ae6f378959433adbb1cb20e4f68916f0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">stop the httpd web server.  <a href="esp__mad__task__http__server_8c.html#ae6f378959433adbb1cb20e4f68916f0c">More...</a><br /></td></tr>
<tr class="separator:ae6f378959433adbb1cb20e4f68916f0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2f13112e59e974788384de154abdf41"><td class="memItemLeft" align="right" valign="top"><a id="ab2f13112e59e974788384de154abdf41"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>task_http_server</b> (void *ignore)</td></tr>
<tr class="separator:ab2f13112e59e974788384de154abdf41"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a2e6e33aba660c63e0ed0edb45b43f628"><td class="memItemLeft" align="right" valign="top"><a id="a2e6e33aba660c63e0ed0edb45b43f628"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>travel2</b> = 0.0</td></tr>
<tr class="separator:a2e6e33aba660c63e0ed0edb45b43f628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a944e6043842b8ea8abbfd88a69c0c7e9"><td class="memItemLeft" align="right" valign="top"><a id="a944e6043842b8ea8abbfd88a69c0c7e9"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>angle2</b> = 0.0</td></tr>
<tr class="separator:a944e6043842b8ea8abbfd88a69c0c7e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8324110108b6ff39a82aae5e0e176e33"><td class="memItemLeft" align="right" valign="top"><a id="a8324110108b6ff39a82aae5e0e176e33"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>maxiTravelSensor1</b> = 0.0</td></tr>
<tr class="separator:a8324110108b6ff39a82aae5e0e176e33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad964c7ee8291c32698a16387fae05eec"><td class="memItemLeft" align="right" valign="top"><a id="ad964c7ee8291c32698a16387fae05eec"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>miniTravelSensor1</b> = 0.0</td></tr>
<tr class="separator:ad964c7ee8291c32698a16387fae05eec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7cccc40c081d05927fe7e0dca5ac89c"><td class="memItemLeft" align="right" valign="top"><a id="aa7cccc40c081d05927fe7e0dca5ac89c"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>maxiTravelSensor2</b> = 0.0</td></tr>
<tr class="separator:aa7cccc40c081d05927fe7e0dca5ac89c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec27509204ff3f1b691b48c747855bca"><td class="memItemLeft" align="right" valign="top"><a id="aec27509204ff3f1b691b48c747855bca"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>miniTravelSensor2</b> = 0.0</td></tr>
<tr class="separator:aec27509204ff3f1b691b48c747855bca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dcb0e6bd4cbf80d0f163555cdb41c0c"><td class="memItemLeft" align="right" valign="top"><a id="a3dcb0e6bd4cbf80d0f163555cdb41c0c"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>travel</b></td></tr>
<tr class="separator:a3dcb0e6bd4cbf80d0f163555cdb41c0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8ef1bf8a70cc07c6d55823c390a7e76"><td class="memItemLeft" align="right" valign="top"><a id="ab8ef1bf8a70cc07c6d55823c390a7e76"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>angle</b></td></tr>
<tr class="separator:ab8ef1bf8a70cc07c6d55823c390a7e76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadf5d6cdc83e6198c1279fbb0edf2677"><td class="memItemLeft" align="right" valign="top"><a id="aadf5d6cdc83e6198c1279fbb0edf2677"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>chordControlSurface</b></td></tr>
<tr class="separator:aadf5d6cdc83e6198c1279fbb0edf2677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af31d7819a88d7bd902f39bff3a7eafd3"><td class="memItemLeft" align="right" valign="top"><a id="af31d7819a88d7bd902f39bff3a7eafd3"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><b>CLIENT_CONNECTED_BIT</b> = BIT0</td></tr>
<tr class="separator:af31d7819a88d7bd902f39bff3a7eafd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7410c369a88b18b2f0a2b890a25ccea8"><td class="memItemLeft" align="right" valign="top"><a id="a7410c369a88b18b2f0a2b890a25ccea8"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><b>CLIENT_DISCONNECTED_BIT</b> = BIT1</td></tr>
<tr class="separator:a7410c369a88b18b2f0a2b890a25ccea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a132152ca7a666a282137c06ac50753f9"><td class="memItemLeft" align="right" valign="top">httpd_uri_t&#160;</td><td class="memItemRight" valign="bottom"><b>main_page</b></td></tr>
<tr class="separator:a132152ca7a666a282137c06ac50753f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06dbacc56da839aa23e9fb3bdedbf251"><td class="memItemLeft" align="right" valign="top">httpd_uri_t&#160;</td><td class="memItemRight" valign="bottom"><b>bootstrap_min_css_uri</b></td></tr>
<tr class="separator:a06dbacc56da839aa23e9fb3bdedbf251"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa452fccf42fb8b8fd56f68e59277cd2e"><td class="memItemLeft" align="right" valign="top">httpd_uri_t&#160;</td><td class="memItemRight" valign="bottom"><b>bootstrap_min_js_uri</b></td></tr>
<tr class="separator:aa452fccf42fb8b8fd56f68e59277cd2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b7f4a70572f6436f5ca3c9c9ab3788c"><td class="memItemLeft" align="right" valign="top">httpd_uri_t&#160;</td><td class="memItemRight" valign="bottom"><b>jquery_3_3_1_min_js_uri</b></td></tr>
<tr class="separator:a6b7f4a70572f6436f5ca3c9c9ab3788c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03e7c007dc23f3b7a312d4717be9ed56"><td class="memItemLeft" align="right" valign="top">httpd_uri_t&#160;</td><td class="memItemRight" valign="bottom"><b>sensors</b></td></tr>
<tr class="separator:a03e7c007dc23f3b7a312d4717be9ed56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9be3bbef010fab9019b0554c22d7071"><td class="memItemLeft" align="right" valign="top">httpd_uri_t&#160;</td><td class="memItemRight" valign="bottom"><b>sensor2</b></td></tr>
<tr class="separator:aa9be3bbef010fab9019b0554c22d7071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cca3fff3a3e6aada29d3b107b636429"><td class="memItemLeft" align="right" valign="top">httpd_uri_t&#160;</td><td class="memItemRight" valign="bottom"><b>chord</b></td></tr>
<tr class="separator:a8cca3fff3a3e6aada29d3b107b636429"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file include all the code to deal with a simple http server. </p>
<dl class="section author"><dt>Author</dt><dd>Alain Désandré - <a href="#" onclick="location.href='mai'+'lto:'+'ala'+'in'+'.de'+'sa'+'ndr'+'e@'+'wan'+'ad'+'oo.'+'fr'; return false;">alain<span style="display: none;">.nosp@m.</span>.des<span style="display: none;">.nosp@m.</span>andre<span style="display: none;">.nosp@m.</span>@wan<span style="display: none;">.nosp@m.</span>adoo.<span style="display: none;">.nosp@m.</span>fr</a> </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>November 18th 2018</dd></dl>
<p>HTTP server deal with the various http request from the clients. At the fist reception of an http get from one client, the server respond with the requested uri (see WebsiteFiles/ for the various uri). esp_mad_task_http_server deals with :</p><ul>
<li>nvs intialisation</li>
<li>dhcp server intialisation</li>
<li>wifi driver initialisation in soft AP mode</li>
<li>when AP station is started, the http server is launched and the uri handles are setup Uris are embedded in the .rodata DRAM segment (see CMakeList.txt) Main HTML page is WebsiteFiles/esp.html and used bootstrap framework and jquery. Ressources for bootstrap and jquery are minified version in WebsiteFiles/</li>
</ul>
<p>Version history 01/07/2019 : maxi, mini, travel for both sensors added 24/03/2020 : http_uri_t variables declaration post-fixed by "_uri" to insure compatibility with ESP-IDF 4.0 and CMake build System buffer buf[] in chord_post_handler pass to 50 bytes. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a5e57862c1f597a1a1ec61581a959875a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e57862c1f597a1a1ec61581a959875a">&#9670;&nbsp;</a></span>bootstrap_min_css_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t bootstrap_min_css_handler </td>
          <td>(</td>
          <td class="paramtype">httpd_req_t *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An HTTP GET handler for bootstrap.min.css uri. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">*req</td><td>: un http_req_t pointer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ESP_OK </dd></dl>

</div>
</div>
<a id="a6f7831b412ac57a3fc6762ed4db1688a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f7831b412ac57a3fc6762ed4db1688a">&#9670;&nbsp;</a></span>bootstrap_min_js_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t bootstrap_min_js_handler </td>
          <td>(</td>
          <td class="paramtype">httpd_req_t *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An HTTP GET handler for bootstrap.min.js uri. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">*req</td><td>: un http_req_t pointer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ESP_OK. </dd></dl>

</div>
</div>
<a id="a4da23f4bcb1b1a78e141a7a7a4c8db23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4da23f4bcb1b1a78e141a7a7a4c8db23">&#9670;&nbsp;</a></span>chord_post_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t chord_post_handler </td>
          <td>(</td>
          <td class="paramtype">httpd_req_t *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An HTTP POST handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">*req</td><td>: un http_req_t pointer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><br  />
<ul>
<li>ESP_OK</li>
<li>ESP_FAIL </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ad0912f449468991eb9aa1f3b9ab5573b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0912f449468991eb9aa1f3b9ab5573b">&#9670;&nbsp;</a></span>jquery_3_3_1_min_js_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t jquery_3_3_1_min_js_handler </td>
          <td>(</td>
          <td class="paramtype">httpd_req_t *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An HTTP GET handler for jquery.3.3.1.min.js uri. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">*req</td><td>: un http_req_t pointer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ESP_OK. </dd></dl>

</div>
</div>
<a id="a3b53468c02118b45ea2de3814e68ef4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b53468c02118b45ea2de3814e68ef4e">&#9670;&nbsp;</a></span>main_page_get_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t main_page_get_handler </td>
          <td>(</td>
          <td class="paramtype">httpd_req_t *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An HTTP GET handler for the main esp.html page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">*req</td><td>: un http_req_t pointer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ESP_OK </dd></dl>

</div>
</div>
<a id="ad15491378c9c175fc2648b772c6bb788"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad15491378c9c175fc2648b772c6bb788">&#9670;&nbsp;</a></span>sensors_get_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t sensors_get_handler </td>
          <td>(</td>
          <td class="paramtype">httpd_req_t *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An HTTP GET handler to serve, travel, angle and delta of both sensors. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">*req</td><td>: an http_req_t pointer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ESP_OK </dd></dl>

</div>
</div>
<a id="aa405dbf500a1f511f559e1e87efff9da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa405dbf500a1f511f559e1e87efff9da">&#9670;&nbsp;</a></span>start_webserver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">httpd_handle_t start_webserver </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the http server and stet the uris handles. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NULL or a pointer on http_handle_t server. </dd></dl>

</div>
</div>
<a id="ae6f378959433adbb1cb20e4f68916f0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6f378959433adbb1cb20e4f68916f0c">&#9670;&nbsp;</a></span>stop_webserver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vod stop_webserver </td>
          <td>(</td>
          <td class="paramtype">httpd_handle_t&#160;</td>
          <td class="paramname"><em>server</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>stop the httpd web server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">http_handle_t</td><td>server. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a06dbacc56da839aa23e9fb3bdedbf251"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06dbacc56da839aa23e9fb3bdedbf251">&#9670;&nbsp;</a></span>bootstrap_min_css_uri</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">httpd_uri_t bootstrap_min_css_uri</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line"> </div>
<div class="line">    .uri       = <span class="stringliteral">&quot;/bootstrap.min.css&quot;</span>,</div>
<div class="line"> </div>
<div class="line">    .method    = HTTP_GET,</div>
<div class="line"> </div>
<div class="line">    .handler   = <a class="code" href="esp__mad__task__http__server_8c.html#a5e57862c1f597a1a1ec61581a959875a">bootstrap_min_css_handler</a>,</div>
<div class="line"> </div>
<div class="line">    .user_ctx  = NULL</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa452fccf42fb8b8fd56f68e59277cd2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa452fccf42fb8b8fd56f68e59277cd2e">&#9670;&nbsp;</a></span>bootstrap_min_js_uri</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">httpd_uri_t bootstrap_min_js_uri</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line"> </div>
<div class="line">    .uri       = <span class="stringliteral">&quot;/bootstrap.min.js&quot;</span>,</div>
<div class="line"> </div>
<div class="line">    .method    = HTTP_GET,</div>
<div class="line"> </div>
<div class="line">    .handler   = <a class="code" href="esp__mad__task__http__server_8c.html#a6f7831b412ac57a3fc6762ed4db1688a">bootstrap_min_js_handler</a>,</div>
<div class="line"> </div>
<div class="line">    .user_ctx  = NULL</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8cca3fff3a3e6aada29d3b107b636429"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cca3fff3a3e6aada29d3b107b636429">&#9670;&nbsp;</a></span>chord</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">httpd_uri_t chord</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line"> </div>
<div class="line">    .uri       = <span class="stringliteral">&quot;/chord&quot;</span>,</div>
<div class="line"> </div>
<div class="line">    .method    = HTTP_POST,</div>
<div class="line"> </div>
<div class="line">    .handler   = <a class="code" href="esp__mad__task__http__server_8c.html#a4da23f4bcb1b1a78e141a7a7a4c8db23">chord_post_handler</a>,</div>
<div class="line"> </div>
<div class="line">    .user_ctx  = NULL</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6b7f4a70572f6436f5ca3c9c9ab3788c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b7f4a70572f6436f5ca3c9c9ab3788c">&#9670;&nbsp;</a></span>jquery_3_3_1_min_js_uri</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">httpd_uri_t jquery_3_3_1_min_js_uri</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line"> </div>
<div class="line">    .uri       = <span class="stringliteral">&quot;/jquery-3.3.1.min.js&quot;</span>,</div>
<div class="line"> </div>
<div class="line">    .method    = HTTP_GET,</div>
<div class="line"> </div>
<div class="line">    .handler   = <a class="code" href="esp__mad__task__http__server_8c.html#ad0912f449468991eb9aa1f3b9ab5573b">jquery_3_3_1_min_js_handler</a>,</div>
<div class="line"> </div>
<div class="line">    .user_ctx  = NULL</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a132152ca7a666a282137c06ac50753f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a132152ca7a666a282137c06ac50753f9">&#9670;&nbsp;</a></span>main_page</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">httpd_uri_t main_page</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line"> </div>
<div class="line">    .uri       = <span class="stringliteral">&quot;/&quot;</span>,</div>
<div class="line"> </div>
<div class="line">    .method    = HTTP_GET,</div>
<div class="line"> </div>
<div class="line">    .handler   = <a class="code" href="esp__mad__task__http__server_8c.html#a3b53468c02118b45ea2de3814e68ef4e">main_page_get_handler</a>,</div>
<div class="line"> </div>
<div class="line">    .user_ctx  = NULL</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa9be3bbef010fab9019b0554c22d7071"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9be3bbef010fab9019b0554c22d7071">&#9670;&nbsp;</a></span>sensor2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">httpd_uri_t sensor2</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line"> </div>
<div class="line">    .uri       = <span class="stringliteral">&quot;/sensor2&quot;</span>,</div>
<div class="line"> </div>
<div class="line">    .method    = HTTP_POST,</div>
<div class="line"> </div>
<div class="line">    .handler   = sensor2_post_handler,</div>
<div class="line"> </div>
<div class="line">    .user_ctx  = NULL</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a03e7c007dc23f3b7a312d4717be9ed56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03e7c007dc23f3b7a312d4717be9ed56">&#9670;&nbsp;</a></span>sensors</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">httpd_uri_t sensors</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line"> </div>
<div class="line">    .uri       = <span class="stringliteral">&quot;/sensors&quot;</span>,</div>
<div class="line"> </div>
<div class="line">    .method    = HTTP_GET,</div>
<div class="line"> </div>
<div class="line">    .handler   = <a class="code" href="esp__mad__task__http__server_8c.html#ad15491378c9c175fc2648b772c6bb788">sensors_get_handler</a>,</div>
<div class="line"> </div>
<div class="line">    .user_ctx  = NULL</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<div class="ttc" id="aesp__mad__task__http__server_8c_html_a3b53468c02118b45ea2de3814e68ef4e"><div class="ttname"><a href="esp__mad__task__http__server_8c.html#a3b53468c02118b45ea2de3814e68ef4e">main_page_get_handler</a></div><div class="ttdeci">esp_err_t main_page_get_handler(httpd_req_t *req)</div><div class="ttdoc">An HTTP GET handler for the main esp.html page.</div><div class="ttdef"><b>Definition:</b> esp_mad_task_http_server.c:80</div></div>
<div class="ttc" id="aesp__mad__task__http__server_8c_html_ad0912f449468991eb9aa1f3b9ab5573b"><div class="ttname"><a href="esp__mad__task__http__server_8c.html#ad0912f449468991eb9aa1f3b9ab5573b">jquery_3_3_1_min_js_handler</a></div><div class="ttdeci">esp_err_t jquery_3_3_1_min_js_handler(httpd_req_t *req)</div><div class="ttdoc">An HTTP GET handler for jquery.3.3.1.min.js uri.</div><div class="ttdef"><b>Definition:</b> esp_mad_task_http_server.c:176</div></div>
<div class="ttc" id="aesp__mad__task__http__server_8c_html_ad15491378c9c175fc2648b772c6bb788"><div class="ttname"><a href="esp__mad__task__http__server_8c.html#ad15491378c9c175fc2648b772c6bb788">sensors_get_handler</a></div><div class="ttdeci">esp_err_t sensors_get_handler(httpd_req_t *req)</div><div class="ttdoc">An HTTP GET handler to serve, travel, angle and delta of both sensors.</div><div class="ttdef"><b>Definition:</b> esp_mad_task_http_server.c:207</div></div>
<div class="ttc" id="aesp__mad__task__http__server_8c_html_a6f7831b412ac57a3fc6762ed4db1688a"><div class="ttname"><a href="esp__mad__task__http__server_8c.html#a6f7831b412ac57a3fc6762ed4db1688a">bootstrap_min_js_handler</a></div><div class="ttdeci">esp_err_t bootstrap_min_js_handler(httpd_req_t *req)</div><div class="ttdoc">An HTTP GET handler for bootstrap.min.js uri.</div><div class="ttdef"><b>Definition:</b> esp_mad_task_http_server.c:144</div></div>
<div class="ttc" id="aesp__mad__task__http__server_8c_html_a4da23f4bcb1b1a78e141a7a7a4c8db23"><div class="ttname"><a href="esp__mad__task__http__server_8c.html#a4da23f4bcb1b1a78e141a7a7a4c8db23">chord_post_handler</a></div><div class="ttdeci">esp_err_t chord_post_handler(httpd_req_t *req)</div><div class="ttdoc">An HTTP POST handler.</div><div class="ttdef"><b>Definition:</b> esp_mad_task_http_server.c:375</div></div>
<div class="ttc" id="aesp__mad__task__http__server_8c_html_a5e57862c1f597a1a1ec61581a959875a"><div class="ttname"><a href="esp__mad__task__http__server_8c.html#a5e57862c1f597a1a1ec61581a959875a">bootstrap_min_css_handler</a></div><div class="ttdeci">esp_err_t bootstrap_min_css_handler(httpd_req_t *req)</div><div class="ttdoc">An HTTP GET handler for bootstrap.min.css uri.</div><div class="ttdef"><b>Definition:</b> esp_mad_task_http_server.c:112</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
